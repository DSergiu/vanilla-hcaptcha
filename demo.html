<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Demo - Vanilla hCaptcha Web Component</title>
</head>
<body>

<div>Open the console!</div>

<script src="./dist/hcaptcha-component.min.js"></script>

<h-captcha id="signupCaptcha"
           site-key="10000000-ffff-ffff-ffff-000000000001"
           size="normal"
           theme="dark"
           reportapi="http://example.com"
           tabindex="0"></h-captcha>

<button onclick="executeHCaptcha()">EXECUTE</button>
<button onclick="resetHCaptcha()">RESET</button>
<button onclick="removeHCaptcha()">REMOVE</button>

<script>
    const signupCaptcha = document.getElementById('signupCaptcha');

    signupCaptcha.addEventListener('loaded', () => {
        console.log('hCaptcha Component Loaded');
        // Component loads https://hcaptcha.com/1/api.js async
        // Safe to call `execute` once component is loaded
        // signupCaptcha.execute();
    });
    signupCaptcha.addEventListener('verified', (e) => {
        console.log('verified event', { key: e.key });
    });
    signupCaptcha.addEventListener('expired', () => {
        console.log('expired event');
    });
    signupCaptcha.addEventListener('error', (e) => {
        console.log('error event', { error: e.error });
    });

    function executeHCaptcha() {
        signupCaptcha.execute();
    }

    function resetHCaptcha() {
        signupCaptcha.reset();
    }

    function removeHCaptcha() {
        signupCaptcha.remove();
    }
</script>
</body>
</html>
