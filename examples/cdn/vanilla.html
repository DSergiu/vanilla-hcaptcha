<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Demo hCaptcha Web Component - Vanilla</title>
</head>
<body>

<div>Open the console!</div>

<!--    <script src="https://cdn.jsdelivr.net/npm/vanilla-hcaptcha" async defer></script>-->
<script src="/node_modules/vanilla-hcaptcha/dist/index.min.js"></script>

<h-captcha id="signupCaptcha"
           site-key="781559eb-513a-4bae-8d29-d4af340e3624"
           host="example.com"
           size="normal"
           theme="dark"
           tabindex="0"></h-captcha>

<button onclick="executeHCaptcha()">EXECUTE</button>
<button onclick="resetHCaptcha()">RESET</button>

<script>
    const signupCaptcha = document.getElementById('signupCaptcha');

    signupCaptcha.addEventListener('loaded', () => {
        console.log('hCaptcha Component Loaded');
        // Safe to call `execute` once component is loaded
        // signupCaptcha.execute();
    });
    signupCaptcha.addEventListener('verified', (e) => {
        console.log('verified event', { token: e.token, eKey: e.eKey });
    });
    signupCaptcha.addEventListener('expired', () => {
        console.log('expired event');
    });
    signupCaptcha.addEventListener('error', (e) => {
        console.log('error event', { error: e.error });
    });

    function executeHCaptcha() {
        signupCaptcha.execute();
    }

    function resetHCaptcha() {
        signupCaptcha.reset();
    }
</script>
</body>
</html>
